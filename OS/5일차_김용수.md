## Chapter4. 07. 쓰레드의 이해
- 프로세스는 지금까지는 싱글 스레드인 구조라고 보면됨
- 프로세스 하나가 여러개의 쓰레드로 구성되어있을 수 있음
- 스레드는 light weigth process라고 보면 됨
- cpu를 점유하는 가장 기본적인 단위가 쓰레드임
- thread id, pc, register set, stack 등으로 이루어짐
- 멀티 쓰레드는 싱글 쓰레드 프로세스와 같이 code, data, files는 하나만 들어있고, register, stack, pc는 각각 따로 갖는다
- 클라이언트가 요청을 하면 서버는 쓰레드를 생성해서 쓰레드가 처리하게하고 자기는 다음일을 처리함
- 쓰레드의 장점
  - responsiveness: 프로세스가 블락되있지 않고 쓰레드에 처리시키고 진행할 수 있음
  - resource sharing : 쓰레드들은 프로세스의 코드와 데이터 영역을 공유하기 때문에 자원 공유에 더 편함
  - economy : 큰 코드를 복사해서 새로운 영역에 만드는 프로세스보다 훨씬 경제적임
  - scalability : 병렬처리 가능
- 멀티 코어 시스템에서 멀티 쓰레딩을 하는 것은 복잡해짐
  - 멀티 코어에서는 동시성이 좋아짐
  - 동시에 병렬적으로 처리가능(단 쪼개서 동시에 처리할 수 있는 프로세스가 뭔지 잘 확인할 수 있어야함)
  - 벨런싱을 해주는 작업이 필요하고, 데이터를 쪼개는 방법도 중요함, 데이터들의 의존성도 확인 중요
  - 테스트와 디버깅이 매우 어려워짐
  - 코어는 무조건 많으면 많을수록 좋은것은 아님
  - 코어의 갯수가 늘어나면 늘어날수록 효율은 점점 떨어짐(암달의 법칙) - 전부다 병렬처리할 수는 없기 때문에
  

## Chapter4. 08. 멀티 쓰레딩
- 쓰레드는 두개의 타입의 쓰레드가 존재 - user 쓰레드, kernel 쓰레드
- 유저쓰레드는 유저가 , kernel 쓰레드는 커널모드에서 커널이 생성한 쓰레드
- 유저 쓰레드와 커널 쓰레드의 관계는 many to one, one to one, many to many 모델이 존재
- 쓰레드 라이브러리는 쓰레드를 생성하고, 관리하는 api를 제공함
- pthread는 포직스 표준에서 제공(c에서 사용)
- ptread_attr_init, pthread_create, pthread_join 등의 명령어 제공

## Chapter4. 07-08. 퀴즈 #4
- 1번 : 암달의 법칙은 1/ ((1-p) + p/s) 임 1/(0.4 + 0.3) = 1.428 ..... 1/(0.4 + 0.15) = 1.81.... - 1
- 2번 : many to one 모델은 다수의 유저쓰레드를 하나의 커널쓰레드에서 지원해주는 것 - 2
- 3번 : 멀티 쓰레드에서 공유하는 것은 힙메모리와 글로벌 변수 - 2,3
- 4번 : 자원 공유가 유리한 이유는 쓰레드간에 shared 메모리를 사용할 수 있기 때문이지 프로세스끼리 공유는 아님 - 2
- 5번 : run 메소드를 직접 호출하지 않고 start 메소드 사용 - 3
- 6번 : 쓰레드를 미리 생성해두지는 않음 - 4
- 7번 : 자식 쓰레드 만들고 부모 프로세스는 기다림 자식 프로세스는 쓰레드 하나 만들어서 runner 실행해서 +10 포크하고 부모는 기다리고 자식은 프린트하니까 20, 그다음 부모가 10더하고 출력이니 30, 조상은 아무 계산도 안일어났으니 10 - 2
- 8번 : b 출력하고 쓰레드를 시작하지만 join은 안해서 c 실행 gkrh join해서 aaa실행 그다음 d 실행 - 1